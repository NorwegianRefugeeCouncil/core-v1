{{define "head"}}
{{end}}
{{define "body"}}
    {{ $isGlobalAdmin := .RequestContext.Auth.IsGlobalAdmin }}
    {{ $locales := .RequestContext.Locales }}
    <main class="container py-5 mx-auto">
        <div class="d-flex justify-content-between align-items-center">
            <h1 class="my-4">{{$locales.Translate "countries"}}</h1>
            {{ if $isGlobalAdmin }}
                <div>
                    <a href="/countries/new" class="btn btn-primary float-end">{{$locales.Translate "new_country"}}</a>
                </div>
            {{ end }}
        </div>
        <div class="d-flex flex-column scroll-body">
            {{ if .AllowedCountries }}
                <table class="table">
                    <thead>
                        <tr>
                            <th class="sticky-column" style="min-width:12rem">{{$locales.Translate "country_name"}}</th>
                            {{ if $isGlobalAdmin }}
                            <th class="sticky-column">
                                <span class="" title="Actions">{{$locales.Translate "actions"}}</span>
                            </th>
                            {{end}}
                        </tr>
                    </thead>
                    <tbody>
                        {{range .AllowedCountries}}
                            <tr>
                                <td><a href="/countries/{{.ID}}/participants">{{.Name}}</a></td>
                                {{ if $isGlobalAdmin }}
                                    <td><a href="/countries/{{.ID}}">
                                            {{$locales.Translate "edit"}}
                                            <i class="bi bi-pencil-square d-lg-inline-block ms-2"></i>
                                        </a></td>
                                {{end}}
                            </tr>
                        {{end}}
                    </tbody>
                </table>
            {{else}}
                <div>
                    {{$locales.Translate "no_country_found"}}
                </div>
            {{end}}
        </div>
    </main>
{{end}}